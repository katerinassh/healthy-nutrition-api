{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}}}},"/auth/customer-sign-up":{"post":{"operationId":"AuthController_signUp","summary":"Create account for customer","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCustomerDTO"}}}},"responses":{"200":{"description":"Customer account created successfully"},"400":{"description":"User with given email already exists"}},"tags":["Auth"]}},"/auth/sign-in":{"post":{"operationId":"AuthController_signIn","summary":"Get tokens to sign in into the system","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDTO"}}}},"responses":{"200":{"description":"User has access to profile"},"400":{"description":"Email or password is invalid"}},"tags":["Auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_logOut","summary":"Give away access to user`s actions","parameters":[],"responses":{"200":{"description":"User does not have access to profile anymore"}},"tags":["Auth"]}},"/auth/refresh":{"get":{"operationId":"AuthController_refreshTokens","summary":"Refresh access token","parameters":[],"responses":{"200":{"description":"New acess token was generated"},"403":{"description":"No user, user is not signed in or error with refresh token"}},"tags":["Auth"]}},"/auth/invite-admin":{"post":{"operationId":"AuthController_inviteAdmin","summary":"Send email invitation to a new admin","parameters":[],"responses":{"200":{"description":"Email is sent, blank admin is created"},"400":{"description":"User with given email is in the system"},"406":{"description":"Error during sending email"}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/auth/complete-registration":{"patch":{"operationId":"AuthController_completeRegistration","summary":"Complete admin registration with link from the email","parameters":[{"name":"token","required":true,"in":"query","description":"Token generated by another admin","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteRegistrationDTO"}}}},"responses":{"200":{"description":"Admin account is ready for interaction"},"403":{"description":"Link has been expired"}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/auth/google":{"get":{"operationId":"AuthController_googleAuth","summary":"Login with Google","parameters":[],"responses":{"200":{"description":"Redirected to google auth"}},"tags":["Auth"]}},"/auth/google/redirect":{"get":{"operationId":"AuthController_googleAuthRedirect","summary":"Login with Google, automatic redirection","parameters":[],"responses":{"200":{"description":"User logged in with Google"},"400":{"description":"User with such Google profile is not registrated"}},"tags":["Auth"]}},"/user/update-measurements":{"patch":{"operationId":"UserController_updateMeasurements","summary":"Update user measurements such as gender, weight, height, age, activity","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMeasurementsDTO"}}}},"responses":{"200":{"description":"The resource was updated successfully"},"404":{"description":"User is not found"}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/macronutrient-ratios":{"get":{"operationId":"UserController_getMacronutrientRatios","summary":"Return daily amount of protein, fats, carbohydrates and calories for a user","parameters":[{"name":"aim","required":false,"in":"query","description":"Aim","schema":{"enum":["LOSE","STAY","GAIN"],"type":"string"}},{"name":"weeks","required":false,"in":"query","description":"Number of weeks to desired weight","schema":{"type":"string"}},{"name":"idealWeight","required":false,"in":"query","description":"Ideal weight","schema":{"type":"string"}}],"responses":{"200":{"description":"Data was returned successfully"},"400":{"description":"User must firstly update measurements"},"404":{"description":"User is not found"}},"tags":["User"],"security":[{"bearer":[]}]}},"/product/create":{"post":{"operationId":"ProductController_create","summary":"Create new unapproved product","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDTO"}}}},"responses":{"200":{"description":"The product was created successfully"},"400":{"description":"The product with such naming already exists or category is unknown"}},"tags":["Product"],"security":[{"bearer":[]}]}},"/product/delete/{productId}":{"delete":{"operationId":"ProductController_delete","summary":"Delete pruct with given id","parameters":[{"name":"productId","required":true,"in":"path","description":"Product identificator","schema":{"type":"string"}}],"responses":{"400":{"description":"Product id is not provided"}},"tags":["Product"],"security":[{"bearer":[]}]}},"/product/approve/{productId}":{"patch":{"operationId":"ProductController_approve","summary":"Approve product to be accessible to everyone","parameters":[{"name":"productId","required":true,"in":"path","description":"Product identificator","schema":{"type":"string"}}],"responses":{"400":{"description":"Product id is not provided or product with such id doesn`t exist"}},"tags":["Product"],"security":[{"bearer":[]}]}},"/product/get-products-list":{"get":{"operationId":"ProductController_getProductsList","parameters":[{"name":"productsForPage","required":true,"in":"query","schema":{"type":"number"}},{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"sortBy","required":true,"in":"query","schema":{"type":"string"}},{"name":"search","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Product"],"security":[{"bearer":[]}]}},"/meal/create":{"post":{"operationId":"MealController_create","summary":"Create new meal without products","parameters":[],"responses":{"201":{"description":"The meal was created successfully"},"400":{"description":"Invalid user"}},"tags":["Meal"],"security":[{"bearer":[]}]}},"/meal/update-products":{"put":{"operationId":"MealController_updateProducts","summary":"Add consumed products to a meal","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMealWithProductsDTO"}}}},"responses":{"200":{"description":"The meal was updated successfully with products"},"400":{"description":"Invalid meal"},"403":{"description":"Invalid user"}},"tags":["Meal"],"security":[{"bearer":[]}]}},"/meal/get-for-day":{"get":{"operationId":"MealController_getForDay","summary":"Get calories statistic for a paticular day","parameters":[{"name":"day","required":true,"in":"query","description":"Day for which statistic need to be got","schema":{"type":"string"}}],"responses":{"200":{"description":"The data was returned"},"400":{"description":"Day was not provided inside query"}},"tags":["Meal"],"security":[{"bearer":[]}]}}},"info":{"title":"Healthy Nutrition API","description":"API to control protein, carbohydrates, fats and calories intake","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateCustomerDTO":{"type":"object","properties":{"email":{"type":"string","description":"User email","nullable":false},"password":{"type":"string","description":"User password","nullable":false},"firstName":{"type":"string","description":"User first name","nullable":false},"lastName":{"type":"string","description":"User last name","nullable":false}},"required":["email","password","firstName","lastName"]},"SignInDTO":{"type":"object","properties":{"email":{"type":"string","description":"User email","nullable":false},"password":{"type":"string","description":"User email","nullable":false}},"required":["email","password"]},"CompleteRegistrationDTO":{"type":"object","properties":{"firstName":{"type":"string","description":"User first name","nullable":false},"lastName":{"type":"string","description":"User last name","nullable":false},"password":{"type":"string","description":"User email","nullable":false}},"required":["firstName","lastName","password"]},"UpdateMeasurementsDTO":{"type":"object","properties":{"gender":{"type":"string","description":"Gender","nullable":false,"enum":["male","female"]},"weight":{"type":"number","description":"Weight","nullable":false},"height":{"type":"number","description":"Height","nullable":false},"age":{"type":"number","description":"Age","nullable":false},"activity":{"type":"number","description":"Level of activity, can be from 1 till 5","nullable":false}},"required":["gender","weight","height","age","activity"]},"User":{"type":"object","properties":{}},"CreateProductDTO":{"type":"object","properties":{"name":{"type":"string","description":"Product name","nullable":false},"calories":{"type":"number","description":"Calories per 100 g in product","nullable":false},"fats":{"type":"number","description":"Amount of fats per 100 g in product","nullable":false},"carbohydrates":{"type":"number","description":"Amount of carbohydrates per 100 g in product","nullable":false},"protein":{"type":"number","description":"Amount of protein per 100 g in product","nullable":false},"vitamins":{"type":"json","description":"Json with different vitamins in product (per 100 g)","nullable":false},"containsTransFat":{"type":"boolean","description":"If product contains trans fats","nullable":true},"category":{"type":"string","description":"Product category","nullable":false,"enum":["Cheese","Fruits","Sandwiches & Burgers","Eggs","Meat"]},"brand":{"type":"string","description":"Brand which produce a product","nullable":false},"creator":{"description":"A user (id) who created this product","nullable":true,"allOf":[{"$ref":"#/components/schemas/User"}]}},"required":["name","calories","fats","carbohydrates","protein","vitamins","category","brand"]},"ConfiguredProductDTO":{"type":"object","properties":{"productId":{"type":"number","description":"Product unique indentificator","nullable":false},"quantity":{"type":"number","description":"Grams of product","nullable":false}},"required":["productId","quantity"]},"UpdateMealWithProductsDTO":{"type":"object","properties":{"mealId":{"type":"number","description":"Meal identificator","nullable":false},"configuredProducts":{"description":"Array of new adding products","nullable":false,"allOf":[{"$ref":"#/components/schemas/ConfiguredProductDTO"}]}},"required":["mealId","configuredProducts"]}}}}